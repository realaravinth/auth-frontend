(this.webpackJsonpauth=this.webpackJsonpauth||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),l=a.n(r),o=(a(14),a(2)),i=a(3),u=a(4),c=a(1),m=a(5),h=a(6),d=(a(15),a(16),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",defaultHomeserver:"https://accounts.shuttlecraft.com",homeserver:""},n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(u.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(o.a)({},n,a))}},{key:"handleSubmit",value:function(e){""===this.state.homeserver&&this.setState(Object(o.a)({},"homeserver",this.state.defaultHomeserver));var t=new Headers;t.append("Content-Type","application/json");var a=JSON.stringify({username:this.state.username,password:this.state.password});fetch("http://localhost:7000/index.html",{method:"POST",headers:t,body:a}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)})),e.preventDefault()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{className:"formWrap",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"formGroup"},s.a.createElement("h1",null,"Sign In")),s.a.createElement("div",{className:"formGroup"},s.a.createElement("label",{className:"label"},"Username:"),s.a.createElement("input",{required:!0,autoFocus:!0,autoComplete:"username",name:"username",type:"text",placeholder:"Username",value:this.state.username,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup"},s.a.createElement("label",{className:"label"},"Password:"),s.a.createElement("input",{required:!0,autoComplete:"current-password",name:"password",placeholder:"Password",type:"password",value:this.state.password,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup"},s.a.createElement("label",{className:"label"},"Homeserver URL"),s.a.createElement("input",{required:!1,autoComplete:"current-password",name:"homeserver",placeholder:this.state.defaultHomeserver,type:"url",value:this.state.homeserver,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup"},s.a.createElement("input",{className:"btn",type:"submit",value:"Submit"}))))}}]),a}(s.a.Component)),p=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={username:"",passwordFirst:"",passwordSecond:"",email:"",homeserver:"",defaultHomeserver:"https://accounts.shuttlecraft.io"},n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.validatePassword=n.validatePassword.bind(Object(c.a)(n)),n}return Object(u.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;"passwordSecond"===n?this.validatePassword(a)&&this.setState(Object(o.a)({},n,a)):this.setState(Object(o.a)({},n,a))}},{key:"validatePassword",value:function(e){return this.passwordFirst===e}},{key:"handleSubmit",value:function(e){""===this.state.homeserver&&this.setState(Object(o.a)({},"homeserver",this.state.defaultHomeserver));var t=new Headers;t.append("Content-Type","application/json");var a=JSON.stringify({username:this.state.username,password:this.state.password});""!==this.state.email&&" "!==this.state.email&&(a.email=this.state.email),fetch("http://localhost:7000/index.html",{method:"POST",headers:t,body:a}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)})),e.preventDefault()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",{className:"formWrap",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"formGroup"},s.a.createElement("h1",null,"Sign Up")),s.a.createElement("div",{className:"formGroup"},s.a.createElement("label",{className:"label"},"Username:"),s.a.createElement("input",{autoFocus:!0,autoComplete:"username",placeholder:"Username",name:"username",type:"text",required:!0,value:this.state.username,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup newPassword"},s.a.createElement("label",{className:"label"},"Password:"),s.a.createElement("input",{required:!0,placeholder:"Password",autoComplete:"new-password",minLength:"10",name:"password",type:"password",value:this.state.passwordFirst,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup newPassword"},s.a.createElement("label",{className:"label"},"Retype password"),s.a.createElement("input",{required:!0,autoComplete:"new-password",placeholder:"Re-enter password",name:"password",type:"password",value:this.state.passwordSecond,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup"},s.a.createElement("label",{className:"label"},"E-mail"),s.a.createElement("input",{required:!1,autoComplete:"email",name:"email",placeholder:"Optional",type:"email",value:this.state.email,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup"},s.a.createElement("label",{className:"label"},"Homeserver URL"),s.a.createElement("input",{required:!1,autoComplete:"current-password",name:"homeserver",placeholder:this.state.defaultHomeserver,type:"url",value:this.state.homeserver,onChange:this.handleInputChange})),s.a.createElement("div",{className:"formGroup"},s.a.createElement("input",{className:"btn",type:"submit",value:"Submit"}))))}}]),a}(s.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={showSignIn:!0,showSignup:!1},n.toggleForm=n.toggleForm.bind(Object(c.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(u.a)(a,[{key:"toggleForm",value:function(e){var t;this.setState((t={},Object(o.a)(t,"showSignup",!this.state.showSignup),Object(o.a)(t,"showSignIn",!this.state.showSignIn),t)),e.preventDefault()}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(o.a)({},n,a))}},{key:"handleSubmit",value:function(e){alert("Credentials: "+this.state.username+this.state.password),console.log(this.state.username),e.preventDefault()}},{key:"render",value:function(){return this.state.showSignIn?s.a.createElement("div",{className:"container"},s.a.createElement(d,null),s.a.createElement("p",{className:"toggleForm"},"Don't have an account?",s.a.createElement("button",{className:"link",onClick:this.toggleForm},"\xa0Sign Up here!"))):s.a.createElement("div",{className:"container"},s.a.createElement(p,null),s.a.createElement("p",{className:"toggleForm"},"Already have an account?",s.a.createElement("button",{class:"link",onClick:this.toggleForm},"\xa0Sign In here!")))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.5ab95dbd.chunk.js.map